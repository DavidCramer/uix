!function(e){var a={};e.fn.baldrick.registerhelper("handlebars",{bind:function(t,r){var n=t.filter("[data-template-url]");n.length&&n.each(function(){var t=e(this);if(void 0===a[t.data("templateUrl")]){if(a[t.data("templateUrl")]=!0,"undefined"!=typeof Storage){var r,n;t.data("cacheLocal")?(n=t.data("cacheLocal"),r=localStorage.getItem("handlebars_"+n)):t.data("cacheSession")&&(n=t.data("cacheSession"),r=sessionStorage.getItem("handlebars_"+n))}r&&(a[t.data("templateUrl")]=Handlebars.compile(r))}})},request:function(t,r){return t.params.trigger.data("templateUrl")&&"boolean"==typeof a[t.params.trigger.data("templateUrl")]?(e.get(t.params.trigger.data("templateUrl"),function(e,r,n){a[t.params.trigger.data("templateUrl")]=Handlebars.compile(n.responseText),t.params.trigger.trigger(t.params.event)}),!1):t},request_params:function(e,a,t){if((t.trigger.data("templateUrl")||t.trigger.data("template"))&&"object"==typeof Handlebars)return e.dataType="json",e},filter:function(t,r){return t.params.trigger.data("templateUrl")?"function"==typeof a[t.params.trigger.data("templateUrl")]&&(t.data=a[t.params.trigger.data("templateUrl")](t.data)):t.params.trigger.data("template")&&("function"==typeof a[t.params.trigger.data("template")]?t.data=a[t.params.trigger.data("template")](t.data):e(t.params.trigger.data("template"))&&(a[t.params.trigger.data("template")]=Handlebars.compile(e(t.params.trigger.data("template")).html()),t.data=a[t.params.trigger.data("template")](t.data))),t}})}(jQuery),Handlebars.registerHelper("even",function(e){var a=e.data.index/2;return a===Math.ceil(a)&&e.fn(this)}),Handlebars.registerHelper("odd",function(e){var a=e.data.index/2;return a!==Math.ceil(a)&&e.fn(this)}),Handlebars.registerHelper("json",function(e){return null!==e&&"object"==typeof e&&(e._tab&&delete e._tab,e=JSON.stringify(e,null,3)),e}),Handlebars.registerHelper(":node_point",function(e){if(this._node_point){var a=this._node_point.split("."),t=(a.join("][")+"]").replace(a[0]+"]",a[0]);return new Handlebars.SafeString('<input type="hidden" name="'+t+'[_id]" value="'+a[a.length-1]+'"><input type="hidden" name="'+t+'[_node_point]" value="'+this._node_point+'">')}}),Handlebars.registerHelper(":name",function(e){if(this._node_point){var a=this._node_point.split(".");return(a.join("][")+"]").replace(a[0]+"]",a[0])}}),Handlebars.registerHelper("find",function(e,a,t){if(void 0===e||void 0===e[a]){for(var r in e){if(void 0!==e[r]&&void 0!==e[r][a])return"string"!=typeof e[r][a]||""!==e[r][a]&&null!==e[r][a]&&!1!==e[r][a]?t.fn(e[r]):t.inverse(this);if(e[r]===a)return t.fn(e[r])}return t.inverse(this)}return t.fn(e[a])}),Handlebars.registerHelper("is_single",function(e,a){return 1===Object.keys(e).length&&a.fn(this)}),Handlebars.registerHelper("script",function(e){var a=[];for(var t in e.hash)a.push(t+'="'+e.hash[t]+'"');return"<script "+a.join(" ")+">"+e.fn(this)+"<\/script>"}),Handlebars.registerHelper("is",function(e,a){return a.hash.value?("@key"===a.hash.value&&(a.hash.value=a.data.key),a.hash.value===e?a.fn(this):this[a.hash.value]&&this[a.hash.value]===e?a.fn(this):a.inverse(this)):a.hash.not?("@key"===a.hash.not&&(a.hash.not=a.data.key),a.hash.not!==e?a.fn(this):this[a.hash.not]&&this[a.hash.not]!==e?a.fn(this):a.inverse(this)):void 0}),Handlebars.registerHelper("load_partial",function(e,a,t){var r=Handlebars.partials;return"function"!=typeof r[e]&&(r[e]=Handlebars.compile(r[e])),r[e](a,t)});